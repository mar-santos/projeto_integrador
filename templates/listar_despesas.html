{% extends 'base.html' %}

{% block pesquisa %}
<form class="d-flex" role="search" action="{{url_for('listar_despesas')}}" method="post">
    <input class="form-control me-2" type="search" aria-label="Search" name="pesquisa">
    <button class="btn btn-outline-success" type="submit">Pesquisar</button>
</form>
{% endblock %}

{% block main %}
<div class="container">
    <br>
    <h1>Lista Despesas</h1>
    <hr>
    <br>
    <form action="{{url_for( 'listar_despesas' )}}" class="form-control" method="post">
        <div class="row">
            <div class="">

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col">Data</th>
                            <th scope="col">Nome</th>
                            <th scope="col">Quantidade</th>
                            <th scope="col">Valor</th>
                            <th scope="col">Editar</th>
                            <th scope="col">Apagar</th>
                        </tr>
                    </thead>
                    <tbody class="table-group-divider">
                        {% for despesa in despesa %}
                        <tr>
                            <td>{{ despesa.despesa_data }}</td>
                            <td>{{ despesa.despesa_nome }}</td>
                            <td>{{ despesa.despesa_qtde }}</td>
                            <td>{{ despesa.despesa_valor }}</td>
                            <td><a href="{{ url_for('editar_despesas', id_despesa=despesa.id_despesa)}}"
                                class="btn btn-secondary btn-sm">Editar</a></td>
                            <td><a href="{{ url_for('deletar_despesa', id_despesa=despesa.id_despesa)}}"
                                onclick="return confirm('Deseja realmente deletar essa despesa?')"
                                class="btn btn-danger btn-sm">Deletar</a></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
{% endblock %}